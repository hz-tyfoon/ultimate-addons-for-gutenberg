let loadStatus=!0;function uagb_carousel_height(e){e=document.querySelector("#wpwrap .is-carousel.uagb-block-"+e);e&&window.UAGBPostCarousel._setHeight(e)}function uagb_carousel_unset_height(e){e=document.querySelector("#wpwrap .is-carousel.uagb-block-"+e);e&&window.UAGBPostCarousel._unSetHeight(e)}window.UAGBPostCarousel={_setHeight(e){if(0<e.length){const l=e[0].querySelectorAll(".slick-slide"),s=e[0].querySelectorAll(".slick-slide.slick-active");let a=-1,o=-1,n=-1,r=(Object.keys(s).forEach(e=>{var t=s[e].offsetHeight,e=s[e].querySelector(".uagb-post__inner-wrap")?.offsetHeight;a<e&&(a=e,n=a+15),o<t&&(o=t)}),Object.keys(s).forEach(e=>{const t=s[e].querySelector(".uagb-post__inner-wrap");t&&(t.style.height=a+"px")}),e[0].querySelector(".slick-list"));r&&(r.style.height=n+"px"),a=-1,o=-1,Object.keys(l).forEach(e=>{const t=l[e];if(t.classList.contains("slick-active"))return!0;e=(r=t.querySelector(".uagb-post__inner-wrap"))?.offsetHeight;e&&(r.style.height=e+"px")})}},_unSetHeight(e){if(0<e.length){const o=e[0].querySelectorAll(".slick-slide"),a=e[0].querySelectorAll(".slick-slide.slick-active");Object.keys(a).forEach(e=>{const t=a[e].querySelector(".uagb-post__inner-wrap");t.style.height="auto"}),Object.keys(a).forEach(e=>{const t=o[e];if(t.classList.contains("slick-active"))return!0;const a=t.querySelector(".uagb-post__inner-wrap");a.style.height="auto"})}}},window.UAGBPostMasonry={_init(o,e){let n=2;const r=window.innerHeight/1.25;let l=document.querySelector(e);const s=l?.querySelectorAll(".uagb-post-inf-loader");"none"!==o.paginationType&&"scroll"===o.paginationEventType&&window.addEventListener("scroll",function(){let e=l.querySelector(".uagb-post__items");var t,a=(e=e||l).lastElementChild.getBoundingClientRect().top+window.scrollY;window.pageYOffset+r>=a&&(a={page_number:n},t=l.getAttribute("data-total"),!0===loadStatus&&n<=t&&(0<s.length&&(s[0].style.display="none"),window.UAGBPostMasonry._callAjax(l,a,o,s,!1,n),n++,loadStatus=!1))}),"button"===o.paginationEventType&&l?.querySelector(".uagb-post-pagination-button")&&(l.style.marginBottom="40px",l.querySelector(".uagb-post-pagination-button").onclick=function(){var e=(l=this.closest(".uagb-post-grid")).getAttribute("data-total"),t={total:e,page_number:n};l.querySelector(".uagb-post__load-more-wrap").style.display="none",!0===loadStatus&&n<=e&&(0<s.length&&(s[0].style.display="none"),l.querySelector(".uagb-post__load-more-wrap").style.display="block",window.UAGBPostMasonry._callAjax(l,t,o,s,!0,n),n++,loadStatus=!1)})},createElementFromHTML(e){const t=document.createElement("div");return t.innerHTML=e.trim(),t},_callAjax(s,i,c,u,g=!1,p){const e=new FormData;e.append("action","uagb_get_posts"),e.append("nonce",uagb_data.uagb_masonry_ajax_nonce),e.append("page_number",i.page_number),e.append("attr",JSON.stringify(c)),fetch(uagb_data.ajax_url,{method:"POST",credentials:"same-origin",body:e}).then(e=>e.json()).then(function(e){let t=s.querySelector(".is-masonry");t=t||s;const a=new Isotope(t,{itemSelector:"article"});a.insert(window.UAGBPostMasonry.createElementFromHTML(e.data)),loadStatus=!0,0<u.length&&(u[0].style.display="none"),!0===g&&(s.querySelector(".uagb-post__load-more-wrap").style.display="block"),p===parseInt(i.total)&&(s.querySelector(".uagb-post__load-more-wrap").style.display="none");for(const r of document.querySelectorAll(".uagb-post__image-position-background .uagb-post__inner-wrap")){var o=r.offsetWidth,n=c.rowGap,o=100-n/o*100;const l=r.getElementsByClassName("uagb-post__image");l[0]&&(l[0].style.width=o+"%",l[0].style.marginLeft=n/2+"px")}}).catch(function(e){})}},window.UAGBPostGrid={_callAjax(r,e,l){const t=new FormData;t.append("action","uagb_post_pagination_grid"),t.append("nonce",uagb_data.uagb_grid_ajax_nonce),t.append("page_number",e),t.append("attr",JSON.stringify(r)),fetch(uagb_data.ajax_url,{method:"POST",credentials:"same-origin",body:t}).then(e=>e.json()).then(function(e){const t=document.querySelectorAll(".uagb-block-"+l)[0],a=e.data.replace(/\n|\t/g,"");e=(t.outerHTML=a).match(/uagb-block-([\w-]+)/)?.[1]||"";{var o=e;const n=document.querySelectorAll(`.uagb-post-grid.uagb-block-${o} .uagb-post-pagination-wrap a`);return void n.forEach(e=>{e.addEventListener("click",e=>{e.preventDefault();const t=e.target.getAttribute("href").match(/admin-ajax.*/)?.[0]||"";e=t.match(/\d+/)?.[0]||1;window.UAGBPostGrid._callAjax(r,parseInt(e),o)})})}})}};