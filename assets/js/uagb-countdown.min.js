UAGBCountdown={elements:{},countdownInterval:{},editorInit(e,t={},n){this.elements[e]=this.getDefaultElements(e),this.countdownInterval[e]=setInterval(()=>{this.updateCountdown(e,t,!0,n)},1e3)},init(e,t={}){this.elements[e]=this.getDefaultElements(e),void 0!==this.elements[e]&&(this.countdownInterval[e]=setInterval(()=>{this.updateCountdown(e,t)},1e3))},changeEndTime(e,t={},n){clearInterval(this.countdownInterval[e]),void 0!==this.elements[e]&&(this.countdownInterval[e]=setInterval(()=>{this.updateCountdown(e,t,!0,n)},1e3))},getDefaultElements(e){return{countdownWrapper:this.getElement(e)}},getElement(e,t=null){let n=document.querySelector(e);if(n){if(t)return n.querySelector(t)}else{const o=document.querySelector('iframe[name="editor-canvas"]');if(o&&o.contentDocument&&(n=o.contentDocument.querySelector(e),t))return n=n.querySelector(t)}return n},updateCountdown(e,t,n=!1,o=null){let r,l,u,c;c=n?(r=o.querySelector(".wp-block-uagb-countdown__time-days"),l=o.querySelector(".wp-block-uagb-countdown__time-hours"),u=o.querySelector(".wp-block-uagb-countdown__time-minutes"),o.querySelector(".wp-block-uagb-countdown__time-seconds")):(r=this.elements[e].countdownWrapper?.querySelector(".wp-block-uagb-countdown__time-days"),l=this.elements[e].countdownWrapper?.querySelector(".wp-block-uagb-countdown__time-hours"),u=this.elements[e].countdownWrapper?.querySelector(".wp-block-uagb-countdown__time-minutes"),this.elements[e].countdownWrapper?.querySelector(".wp-block-uagb-countdown__time-seconds"));var n=new Date,o=new Date(t.endDateTime)-n,n=o<0,i=Math.floor(o/1e3/60/60/24),d=Math.floor(o/1e3/60/60)%24,s=Math.floor(o/1e3/60)%60,o=Math.floor(o/1e3)%60;if(r.innerHTML=n?0:i,l.innerHTML=n?0:d,u.innerHTML=n?0:s,c.innerHTML=n?0:o,n&&(clearInterval(this.countdownInterval[e]),t.isFrontend)){if("hide"===t.timerEndAction){const a=this.elements[e].countdownWrapper?.querySelectorAll(".wp-block-uagb-countdown__box");a.forEach(e=>{e.style.display="none"})}"redirect"===t.timerEndAction&&this.isValidURL(t.redirectURL)&&window.location.replace(t.redirectURL)}},isValidURL(e){const t=new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i");return!!t.test(e)}};