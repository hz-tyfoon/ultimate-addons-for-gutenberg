document.addEventListener("UAGModalEditor",function(e){UAGBModal.init(".uagb-block-"+e.detail.block_id,!0)}),window.UAGBModal={init(t,e){const o=UAGBModal._getDocumentElement(),c=o.querySelector(t),l=document.getElementsByClassName("edit-site");if(void 0!==c&&c){const a=c.querySelector(".uagb-modal-trigger"),s=c.dataset.overlayclick;if(void 0!==a&&a){a.style.pointerEvents="auto";const i=c.querySelector(".uagb-modal-popup"),n=(null===i||e||document.body?.appendChild(i),o.querySelector("body")),d=(a.addEventListener("click",function(e){e.preventDefault(),void 0===i||i.classList.contains("active")||(i.classList.add("active"),void 0===n||n.classList.contains("hide-scroll")||0!==l?.length||n.classList.contains("wp-admin")||n.classList.add("hide-scroll"))}),o.querySelector(t+" .uagb-modal-popup-close"));d.addEventListener("click",function(){const e=o.querySelector(t+".uagb-modal-popup");void 0!==e&&e.classList.contains("active")&&e.classList.remove("active"),void 0!==n&&n.classList.contains("hide-scroll")&&UAGBModal.closeModalScrollCheck(n)}),"disable"!==s&&i.addEventListener("click",function(e){"enable"===s&&i.classList.contains("active")&&!i.querySelector(".uagb-modal-popup-wrap").contains(e.target)&&i.classList.remove("active"),void 0!==n&&n.classList.contains("hide-scroll")&&UAGBModal.closeModalScrollCheck(n)}),document.addEventListener("keyup",function(e){var t=c.dataset.escpress;27===e.keyCode&&"enable"===t&&(void 0!==i&&i.classList.contains("active")&&i.classList.remove("active"),void 0!==n&&n.classList.contains("hide-scroll")&&UAGBModal.closeModalScrollCheck(n))})}}},_getDocumentElement(){let e=document;var t=document.querySelectorAll('iframe[name="editor-canvas"]');return!t?.length||(t=t?.[0]?.contentWindow?.document||t?.[0]?.contentDocument)&&(e=t),e},closeModalScrollCheck(e){0===document.querySelectorAll(".uagb-modal-popup.active").length&&e.classList.remove("hide-scroll")}};