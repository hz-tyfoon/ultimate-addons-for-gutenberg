function uagbTimelineInit(){const e=document.querySelector("iframe[name='editor-canvas']");let t;var d=t=(e?e.contentDocument:document).querySelectorAll(".uagb-timeline");if(0!==d.length)for(const c of d){const _=c.querySelector(".uagb-timeline__line__inner"),s=c.querySelector(".uagb-timeline__line");var i=c.querySelectorAll(".uagb-timeline__marker"),n=c.querySelector(".uagb-timeline__field:nth-last-child(2)"),n=n||c.querySelector(".block-editor-block-list__block:last-child");const r=i[0],a=i[i.length-1];s.style.top=r?.offsetTop+"px";var o,u,l,n=n?.offsetHeight,n=(c.classList.contains("uagb-timeline__arrow-center")?s.style.bottom=a?.offsetTop+"px":c.classList.contains("uagb-timeline__arrow-top")?(o=n-a?.offsetTop,s.style.bottom=o+"px"):c.classList.contains("uagb-timeline__arrow-bottom")&&(o=n-a?.offsetTop,s.style.bottom=o+"px"),3*i[0]?.offsetHeight),g=document?.documentElement?.clientHeight/2+n,i=document.body,n=document.documentElement,i=Math.max(i.scrollHeight,i.offsetHeight,n.clientHeight,n.scrollHeight,n.offsetHeight),n=i-a?.getBoundingClientRect()?.top,i=i-r?.getBoundingClientRect()?.top-n,n=r?.getBoundingClientRect()?.top+window?.scrollY-(window?.innerHeight-window?.innerHeight/3);n<document?.documentElement?.scrollTop&&((n=i/100*((document?.documentElement?.scrollTop-n)/i*100))<60+i&&(_.style.height=n+"px"));const m=c.querySelectorAll(".uagb-timeline__marker");let t=c.querySelectorAll(".uagb-timeline__field");0===t.length&&(t=c.querySelectorAll(".uagb-timeline__animate-border"));for(let e=0;e<m.length;e++)l=m[e].lastElementChild.getBoundingClientRect().top+window.scrollY,u=t[e].lastElementChild.getBoundingClientRect().top+window.scrollY,l=l-document.documentElement.scrollTop,u-document.documentElement.scrollTop<g?(t[e].classList.remove("out-view"),t[e].classList.add("in-view")):(t[e].classList.add("out-view"),t[e].classList.remove("in-view")),l<g?(m[e].classList.remove("uagb-timeline__out-view-icon"),m[e].classList.add("uagb-timeline__in-view-icon")):(m[e].classList.add("uagb-timeline__out-view-icon"),m[e].classList.remove("uagb-timeline__in-view-icon"))}}window.addEventListener("DOMContentLoaded",uagbTimelineInit),window.addEventListener("resize",uagbTimelineInit),window.addEventListener("scroll",uagbTimelineInit),document.addEventListener("UAGTimelineEditor",uagbTimelineInit);