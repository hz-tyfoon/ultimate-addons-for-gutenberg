function uagbTimelineInit(){const e=document.querySelector("iframe[name='editor-canvas']");let t;var i=t=(e?e.contentDocument:document).querySelectorAll(".uagb-timeline");if(0!==i.length)for(const r of i){const m=r.querySelector(".uagb-timeline__line__inner"),u=r.querySelector(".uagb-timeline__line");var l=r.querySelectorAll(".uagb-timeline__marker"),n=r.querySelector(".uagb-timeline__field:nth-last-child(2)"),n=n||r.querySelector(".block-editor-block-list__layout:last-child"),s=l[0];const d=l[l.length-1];u.style.top=s?.offsetTop+"px";var f,a=n?.offsetHeight,n=n?.offsetTop;let e,t;r.classList.contains("uagb-timeline__arrow-center")?(u.style.bottom=d?.offsetTop+"px",t=n-s?.offsetTop,e=t+d?.getBoundingClientRect().top):r.classList.contains("uagb-timeline__arrow-top")?(f=a-d?.offsetTop,u.style.bottom=f+"px",e=n):r.classList.contains("uagb-timeline__arrow-bottom")&&(f=a-d?.offsetTop,u.style.bottom=f+"px",t=n-s?.offsetTop,e=t+d?.offsetTop);var _,b,a=e+20,n=3*l[0]?.offsetHeight,c=document.documentElement.clientHeight/2+n,l=r.getBoundingClientRect().top+document.documentElement.scrollTop+r.offsetTop;let i=l+s?.offsetTop-document.documentElement.scrollTop;i=i<0?Math.abs(i):-Math.abs(i),l<c?c+Math.abs(i)<a?m.style.height=c+i+"px":i+c>=a&&(m.style.height=a+"px"):i+c<a?i<0?m.style.height=c-Math.abs(i)+"px":m.style.height=c+i+"px":i+c>=a&&(m.style.height=a+"px");const g=r.querySelectorAll(".uagb-timeline__marker");let o=r.querySelectorAll(".uagb-timeline__field");0===o.length&&(o=r.querySelectorAll(".uagb-timeline__animate-border"));for(let e=0;e<g.length;e++)b=g[e].lastElementChild.getBoundingClientRect().top+window.scrollY,_=o[e].lastElementChild.getBoundingClientRect().top+window.scrollY,b=b-document.documentElement.scrollTop,_-document.documentElement.scrollTop<c?(o[e].classList.remove("out-view"),o[e].classList.add("in-view")):(o[e].classList.add("out-view"),o[e].classList.remove("in-view")),b<c?(g[e].classList.remove("uagb-timeline__out-view-icon"),g[e].classList.add("uagb-timeline__in-view-icon")):(g[e].classList.add("uagb-timeline__out-view-icon"),g[e].classList.remove("uagb-timeline__in-view-icon"))}}window.addEventListener("DOMContentLoaded",uagbTimelineInit),window.addEventListener("resize",uagbTimelineInit),window.addEventListener("scroll",uagbTimelineInit),document.addEventListener("UAGTimelineEditor",uagbTimelineInit);