function uagbTimelineInit(){const e=document.querySelector("iframe[name='editor-canvas']");let t;var i=t=(e?e.contentDocument:document).querySelectorAll(".uagb-timeline");if(0!==i.length)for(const a of i){const m=a.querySelector(".uagb-timeline__line__inner"),d=a.querySelector(".uagb-timeline__line");var n=a.querySelectorAll(".uagb-timeline__marker"),o=a.querySelector(".uagb-timeline__field:nth-last-child(2)"),o=o||a.querySelector(".block-editor-block-list__block:last-child");const u=n[0],g=n[n.length-1];d.style.top=u?.offsetTop+"px";var l,c,s,o=o?.offsetHeight,o=(a.classList.contains("uagb-timeline__arrow-center")?d.style.bottom=g?.offsetTop+"px":a.classList.contains("uagb-timeline__arrow-top")?(l=o-g?.offsetTop,d.style.bottom=l+"px"):a.classList.contains("uagb-timeline__arrow-bottom")&&(l=o-g?.offsetTop,d.style.bottom=l+"px"),3*n[0]?.offsetHeight),r=document?.documentElement?.clientHeight/2+o,n=document.body,o=document.documentElement,n=Math.max(n.scrollHeight,n.offsetHeight,o.clientHeight,o.scrollHeight,o.offsetHeight),o=n-g?.getBoundingClientRect()?.top,n=n-u?.getBoundingClientRect()?.top-o,o=u?.getBoundingClientRect()?.top+window?.scrollY-(window?.innerHeight-window?.innerHeight/3);o<document?.documentElement?.scrollTop&&((o=n/100*((document?.documentElement?.scrollTop-o)/n*100))<60+n&&(m.style.height=o+"px"));const _=a.querySelectorAll(".uagb-timeline__marker");let t=a.querySelectorAll(".uagb-timeline__field");0===t.length&&(t=a.querySelectorAll(".uagb-timeline__animate-border"));for(let e=0;e<_.length;e++)s=_[e].lastElementChild.getBoundingClientRect().top+window.scrollY,c=t[e].lastElementChild.getBoundingClientRect().top+window.scrollY,s=s-document.documentElement.scrollTop,c-document.documentElement.scrollTop<r?(t[e].classList.remove("out-view"),t[e].classList.add("in-view")):(t[e].classList.add("out-view"),t[e].classList.remove("in-view")),s<r?(_[e].classList.remove("uagb-timeline__out-view-icon"),_[e].classList.add("uagb-timeline__in-view-icon")):(_[e].classList.add("uagb-timeline__out-view-icon"),_[e].classList.remove("uagb-timeline__in-view-icon"))}}window.addEventListener("DOMContentLoaded",uagbTimelineInit),window.addEventListener("resize",uagbTimelineInit),window.addEventListener("scroll",uagbTimelineInit),document.addEventListener("UAGTimelineEditor",uagbTimelineInit);