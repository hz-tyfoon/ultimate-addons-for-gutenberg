"use strict";window.XgUtils=window.XgUtils||{extend:function(e,t){const n=t||{};let i;for(i in e)e.hasOwnProperty(i)&&(n[i]=e[i]);return n}},window.xsLocalStorage=window.xsLocalStorage||function(){const a="cross-domain-local-message-uag";let n={iframeId:"cross-domain-iframe-uag",iframeUrl:void 0,initCallback(){}},r=-1,o;const d={};let t=!1,i=!0;function l(e){let t;try{t=JSON.parse(e.data)}catch(e){}t&&t.namespace===a&&("iframe-ready"===t.id?(i=!0,n.initCallback()):(e=t,d[e.id]&&(d[e.id](e),delete d[e.id])))}function c(e,t,n,i){r++,d[r]=i;i={namespace:a,id:r,action:e,key:t,value:n};o.contentWindow.postMessage(JSON.stringify(i),"*")}function s(e){n=XgUtils.extend(e,n);const t=document.createElement("div");window.addEventListener?window.addEventListener("message",l,!1):window.attachEvent("onmessage",l),t.innerHTML='<iframe id="'+n.iframeId+'" src='+n.iframeUrl+' style="display: none;"></iframe>',document.body.appendChild(t),o=document.getElementById(n.iframeId)}function u(){return t&&!!i}function m(){return"complete"===document.readyState}return{init(e){if(!e.iframeUrl)throw"Please specify the iframe URL";t||(t=!0,m()?s(e):document.addEventListener?document.addEventListener("readystatechange",function(){m()&&s(e)}):document.attachEvent("readystatechange",function(){m()&&s(e)}))},setItem(e,t,n){u()&&c("set",e,t,n)},getItem(e,t){u()&&c("get",e,null,t)},removeItem(e,t){u()&&c("remove",e,null,t)},key(e,t){u()&&c("key",e,null,t)},getSize(e){u()&&c("size",null,null,e)},getLength(e){u()&&c("length",null,null,e)},clear(e){u()&&c("clear",null,null,e)},wasInit(){return t}}}();